<head>
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
  <style type="text/css">
    html { height: 100% }
    body { height: 100%; margin: 0; padding: 0 }
    #map-canvas { height: 100% }
  </style>

</head>

<body>
  <%= form_tag bike_stations_index_path, :id => "find_stations" do %>
    <%= hidden_field_tag 'origin', nil, :id => "origin" %>
    <%= hidden_field_tag 'route', nil, :id => "route" %>
    <div>
      <input id="new_origin"></input>
      <span>San Francisco, CA</span>
      <br/>
      <%= submit_tag 'Set Origin', :id => "set_origin" %>
    </div>

    <% if @bike_stations %>
      <div>
        <ol>
          <% @bike_stations.each_with_index do |station| %>
            <li>
              <% unless station.name == "Unknown" %>
                <%= "#{station.distance.to_f.round(2)} miles - #{station.name} (#{station.spaces} Spaces)" %>
              <% else %>
                <%= "#{station.distance.to_f.round(2)} miles - #{station.address} (#{station.spaces} Spaces)" %>
              <% end %>
              <%= submit_tag 'Route', :class => "new_route", :id => station.id %>
            </li>
          <% end %>
        </ol>
      </div>
    <% end %>
  <% end %>

  <div id="map-canvas"></div>
</body>

<%= render 'map_js' %>


